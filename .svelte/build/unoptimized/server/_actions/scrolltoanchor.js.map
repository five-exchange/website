{
  "version": 3,
  "sources": ["/Users/thibautduchene/Code/five-website/src/actions/scrolltoanchor.ts"],
  "sourcesContent": ["// catch onscroll event and go down one viewport height as soon as scroll event is detected\nexport function scrolltoanchor(node, options) {\n  // left: 37, up: 38, right: 39, down: 40,\n  // spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36\n  var keys = { 37: 1, 38: 1, 39: 1, 40: 1 };\n\n  let scrolling = false;\n  let previousevent = null;\n  let currentLink = 0;\n  let previousDelta = 0;\n\n  function preventDefault(e) {\n    e.preventDefault();\n    if (previousevent && Date.now() - previousevent < 100) {\n      previousevent = Date.now();\n      return (previousDelta = Math.abs(e.deltaY));\n    }\n    previousevent = Date.now();\n    e.deltaY > 0 ? navigatedown() : navigateup();\n  }\n\n  function preventDefaultForScrollKeys(e) {\n    if (keys[e.keyCode]) {\n      preventDefault(e);\n      return false;\n    }\n  }\n\n  function navigateup() {\n    if (currentLink != 0) {\n      currentLink = currentLink - 1;\n      window.scrollTo({\n        top: links[currentLink].offsetTop,\n        behavior: \"smooth\",\n      });\n      window.location.href = links[currentLink].id;\n    }\n  }\n\n  function navigatedown() {\n    if (currentLink < links.length - 1) {\n      console.log(currentLink, links.length);\n      currentLink = currentLink + 1;\n      window.scrollTo({\n        top: links[currentLink].offsetTop,\n        behavior: \"smooth\",\n      });\n      window.location.href = links[currentLink].id;\n    }\n  }\n\n  // modern Chrome requires { passive: false } when adding event\n  var supportsPassive = false;\n  try {\n    window.addEventListener(\n      \"test\",\n      null,\n      Object.defineProperty({}, \"passive\", {\n        get: function () {\n          supportsPassive = true;\n        },\n      })\n    );\n  } catch (e) {}\n\n  var wheelOpt = supportsPassive ? { passive: false } : false;\n  var wheelEvent =\n    \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : \"mousewheel\";\n  function handlescroll(e) {\n    e.preventDefault();\n    console.log(e);\n  }\n  const links = (\n    Object.values(document.getElementsByTagName(\"a\")) || []\n  ).filter((a) => a.id);\n  // call this to Disable\n  window.addEventListener(\"DOMMouseScroll\", preventDefault, false); // older FF\n  window.addEventListener(wheelEvent, preventDefault, wheelOpt); // modern desktop\n  window.addEventListener(\"touchmove\", preventDefault, wheelOpt); // mobile\n  window.addEventListener(\"keydown\", preventDefaultForScrollKeys, false);\n  return {\n    destroy: () => {\n      window.removeEventListener(\"DOMMouseScroll\", preventDefault, false);\n      window.removeEventListener(wheelEvent, preventDefault, false);\n      window.removeEventListener(\"touchmove\", preventDefault, false);\n      window.removeEventListener(\"keydown\", preventDefaultForScrollKeys, false);\n    },\n  };\n}\n"],
  "mappings": "AACO,+BAAwB,MAAM;AAGnC,MAAI,OAAO,CAAE,IAAI,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI;AAEtC,MAAI,YAAY;AAChB,MAAI,gBAAgB;AACpB,MAAI,cAAc;AAClB,MAAI,gBAAgB;AAEpB,0BAAwB;AACtB,MAAE;AACF,QAAI,iBAAiB,KAAK,QAAQ,gBAAgB;AAChD,sBAAgB,KAAK;AACrB,aAAQ,gBAAgB,KAAK,IAAI,EAAE;AAAA;AAErC,oBAAgB,KAAK;AACrB,MAAE,SAAS,IAAI,iBAAiB;AAAA;AAGlC,uCAAqC;AACnC,QAAI,KAAK,EAAE;AACT,qBAAe;AACf,aAAO;AAAA;AAAA;AAIX;AACE,QAAI,eAAe;AACjB,oBAAc,cAAc;AAC5B,aAAO,SAAS;AAAA,QACd,KAAK,MAAM,aAAa;AAAA,QACxB,UAAU;AAAA;AAEZ,aAAO,SAAS,OAAO,MAAM,aAAa;AAAA;AAAA;AAI9C;AACE,QAAI,cAAc,MAAM,SAAS;AAC/B,cAAQ,IAAI,aAAa,MAAM;AAC/B,oBAAc,cAAc;AAC5B,aAAO,SAAS;AAAA,QACd,KAAK,MAAM,aAAa;AAAA,QACxB,UAAU;AAAA;AAEZ,aAAO,SAAS,OAAO,MAAM,aAAa;AAAA;AAAA;AAK9C,MAAI,kBAAkB;AACtB;AACE,WAAO,iBACL,QACA,MACA,OAAO,eAAe,IAAI,WAAW;AAAA,MACnC,KAAK;AACH,0BAAkB;AAAA;AAAA;AAAA,WAIjB;AAAA;AAET,MAAI,WAAW,kBAAkB,CAAE,SAAS,SAAU;AACtD,MAAI,aACF,aAAa,SAAS,cAAc,SAAS,UAAU;AACzD,wBAAsB;AACpB,MAAE;AACF,YAAQ,IAAI;AAAA;AAEd,QAAM,QACJ,QAAO,OAAO,SAAS,qBAAqB,SAAS,IACrD,OAAO,CAAC,MAAM,EAAE;AAElB,SAAO,iBAAiB,kBAAkB,gBAAgB;AAC1D,SAAO,iBAAiB,YAAY,gBAAgB;AACpD,SAAO,iBAAiB,aAAa,gBAAgB;AACrD,SAAO,iBAAiB,WAAW,6BAA6B;AAChE,SAAO;AAAA,IACL,SAAS;AACP,aAAO,oBAAoB,kBAAkB,gBAAgB;AAC7D,aAAO,oBAAoB,YAAY,gBAAgB;AACvD,aAAO,oBAAoB,aAAa,gBAAgB;AACxD,aAAO,oBAAoB,WAAW,6BAA6B;AAAA;AAAA;AAAA;",
  "names": []
}
